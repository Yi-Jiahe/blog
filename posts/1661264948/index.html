<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=HandheldFriendly content="True"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=generator content="Hugo 0.145.0"><link rel="shortcut icon" href=https://cdn.jsdelivr.net/gh/dsrkafuu/dsr-cdn-main@1/images/favicons/dsrca.ico><title>Garmin Watchface - Jiahe's Blog</title>
<meta name=keywords content="Wearable Tech"><meta property="og:title" content="Garmin Watchface"><meta name=twitter:title content="Garmin Watchface"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.jiahe.dev/posts/1661264948/"><meta property="og:description" content="At the end of May I got a new running watch, specifically the Garmin Forerunner 55 since I had started running a couple of weeks before to prepare for my IPPT and I didn&rsquo;t want to run with my phone and the GPS tracking was also quite bad. Having gotten a new fitness tracker, the first thing I did was of course to find out how to develop on it."><meta name=twitter:description content="At the end of May I got a new running watch, specifically the Garmin Forerunner 55 since I had started running a couple of weeks before to prepare for my IPPT and I didn&rsquo;t want to run with my phone and the GPS tracking was also quite bad. Having gotten a new fitness tracker, the first thing I did was of course to find out how to develop on it."><meta name=twitter:card content="summary"><meta property="article:published_time" content="2022-08-23T22:29:08+08:00"><meta property="article:modified_time" content="2022-08-23T22:29:08+08:00"><style>@media(prefers-color-scheme:dark){body[data-theme=auto] img{filter:brightness(60%)}}body[data-theme=dark] img{filter:brightness(60%)}</style><link rel=stylesheet href=https://blog.jiahe.dev/assets/css/fuji.min.b4a21b5d3eb1d0a51297e31230a65fc25e387843e45ec3a2d9176cd8d163c216d99b9b13a618b28f537c3b559ec8a408183b0fbfad48daddb9befa7d3ef90eed.css integrity="sha512-tKIbXT6x0KUSl+MSMKZfwl44eEPkXsOi2Rds2NFjwhbZm5sTphiyj1N8O1WeyKQIGDsPv61I2t25vvp9PvkO7Q=="></head><body data-theme=auto data-theme-auto=false><script data-cfasync=false>var fujiThemeData=localStorage.getItem("fuji_data-theme");fujiThemeData?fujiThemeData!=="auto"&&document.body.setAttribute("data-theme",fujiThemeData==="dark"?"dark":"light"):localStorage.setItem("fuji_data-theme","auto")</script><header></header><main><div class="container-lg clearfix"><div class="col-12 col-md-9 float-left content"><article><h1 class="post-item post-title"><a href=https://blog.jiahe.dev/posts/1661264948/>Garmin Watchface</a></h1><div class="post-item post-meta"><span><i class="iconfont icon-today-sharp"></i>&nbsp;2022-08-23</span>
<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href=/tags/wearable-tech>Wearable Tech</a>&nbsp;</span></div><div class="post-content markdown-body"><p>At the end of May I got a new running watch, specifically the Garmin Forerunner 55 since I had started running a couple of weeks before to prepare for my IPPT and I didn&rsquo;t want to run with my phone and the GPS tracking was also quite bad. Having gotten a new fitness tracker, the first thing I did was of course to find out how to develop on it.</p><p>Garmin makes it quite easy to start developing for their devices, just download the Connect SDK and the Monkey C extension for VS code and you&rsquo;re ready to build and run applications on their emulator or an actual device.</p><p>The week prior to beginning I had been using a data field heavy watch face with 8 fields and the time, so I knew that I wanted something which could make the most of the sensors of the watch. I also wanted something subtle but with a strong theme so I decided to go for a analog face based on our <a href=https://www.youtube.com/c/OuroKroniiCh target=_blank>Warden of Time</a>.</p><p>I started off by implementing the watch face using drawing primitives such as arcs and lines and closed polygons combined with trigonometry, fixed points and transformations. The first obstacles where a matter of the screen resolution and colour space. The low resolution meant that lines didn&rsquo;t look too great at all angles and graphics scaled down too much didn&rsquo;t render quite the way they were supposed to. The memory-in-pixel (MIP) display meant that only 8 colours were avaliabe, again limiting how closely I could match the intended design. Ultimately with some tweaking I got the watch face to look something like what I was imagining.</p><p>At this point I think it is worth noting that a digital watch face is much simpler to implement, especially with the layouts and partial refreshes, since it doesn&rsquo;t have hands that necessitate a full refresh every minute, hour and 12 hours respectively. As a compromise, in low power mode the screen is only refreshed every minute and the second hand is not drawn.</p><p>The data screens were quite fun to implement as it was rather exciting to figure out how much I could fit on the screen. Again, another challenge was the limited screen space, meaning that the design had elements fighting for space. In the end, I&rsquo;m quite happy with the layout I settled which which fits the second, minute and hour hands, date and time, battery indicator, activity ring alongside up to three additional data fields (only three less than the 8 data field face I was using before). My enjoyment in this part of the project was reading through the documentation and examples to figure out what data was available and how to acquire it, such as heart rate and the user&rsquo;s heart rate zones, as well as their daily steps and distance which can also be used to fill up the activity ring.</p><p>This foray into developing on the Garmin platform gave me the opportunity to draw on a low resolution display with graphical primitives as well as pull sensor data from the platform. On top of that, I have also been left with a unique, for better or worse, watch face that I&rsquo;ve been using for close to 3 months now. I can say that the data fields have been more than adequate and I&rsquo;m very satisfied with the outcome.</p><p>If you own a Garmin Forerunner, find the watch face on the Connect IQ store <a href=https://apps.garmin.com/ja-JP/apps/6d184728-2c8d-4517-818a-3b1d75dc8bc6 target=_blank>here</a>, or the source at <a href=https://github.com/Yi-Jiahe/Kronii target=_blank>https://github.com/Yi-Jiahe/Kronii</a>.</p><hr><p>On a less technical note, I have continued to run about twice a week even after my IPPT and have somehow also been doing statics almost every other day. Was it the watch? Maybe, I make it a point to track runs, walks (routine ones of sufficient length such as to and from work) and statics. I haven&rsquo;t been looking too much at the stress and body battery given that the latter just bottoms out at 5 at the end of every day anyway. Will I continue? Hopefully.</p></div></article><div class=post-comment data-comment=mastodon><span class=post-comment-notloaded><i class="iconfont icon-chatbox-ellipses-sharp"></i>&nbsp;Load comments
</span><script>async function get_statuses_with_context(e,t){const n=`https://${e}/api/v1/statuses/${t}/context`,s=await fetch(n);return await s.json()}async function get_status(e,t){const n=`https://${e}/api/v1/statuses/${t}`,s=await fetch(n);return await s.json()}function insert_comment(e,t){let n=[e[0]];for(;n;){let e=n.pop();if(t.in_reply_to_id==e.id)return e.replies.push({...t,replies:[]}),!0;n.push(...e.replies)}return!1}function process_descendants(e){const n=[{id:"114079238827754303",replies:[]}];let t=e;for(;!0;){let e=[];for(let s=0;s<t.length;s++){const o=t[s];if(insert_comment(n,o))continue;e.push(o)}if(t.length==e.length)break;t=e}return n[0].replies}function render_comments(e){const s=new Date(e[0].created_at),t=(Date.now()-s.getTime())/1e3;let n;return t<60?n=`${Math.floor(t)} seconds ago`:t<3600?n=`${Math.floor(t/60)} minutes ago`:t<86400?n=`${Math.floor(t/3600)} hours ago`:n=`${Math.floor(t/86400)} days ago`,e.map(e=>{const t=document.createElement("div");t.style.padding="10px";let s=`
          <p>
            <a href="${e.account.url}"><span>${e.account.display_name}</span></a>
            <a href="${e.url}"><span>${n}</span></a>
          </p>
          <div>${e.content}<div>
          <a href="${e.url}"><span style="text-decoration: underline;font-size: 0.8em">Reply</span></a>
        `;if(e.replies.length>0){const t=render_comments(e.replies);s+=`
            <div style="display:flex">
              <div style="padding:10px"></div>
              <div>
                ${t.map(e=>e.outerHTML)}
              </div>
            </div>
        `}return t.innerHTML=s,t})}async function loadComment(){const s="mastodon.social",o="114079238827754303";let e=await get_statuses_with_context(s,o);const i=process_descendants(e.descendants);let t=document.querySelector(".post-comment");t.style.padding="10px",e=await get_status(s,o);const n=document.createElement("a");n.href=e.url,n.innerHTML=`<button>Reply</button>`,t.appendChild(n);const a=render_comments(i);a.forEach(e=>t.appendChild(e)),document.querySelector("span.post-comment-notloaded").setAttribute("style","display: none;")}</script></div></div><aside class="col-12 col-md-3 float-left sidebar"><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul></ul></div><div class="sidebar-item sidebar-toc"><h3>Table of Contents</h3><nav id=TableOfContents></nav></div></aside></div><div class=btn><div class=btn-menu id=btn-menu><i class="iconfont icon-grid-sharp"></i></div><div class=btn-toggle-mode><i class="iconfont icon-contrast-sharp"></i></div><div class=btn-scroll-top><i class="iconfont icon-chevron-up-circle-sharp"></i></div></div><aside class=sidebar-mobile style=display:none><div class=sidebar-wrapper><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul></ul></div><div class="sidebar-item sidebar-links"><h3>Links</h3><ul></ul></div><div class="sidebar-item sidebar-tags"><h3>Tags</h3><div><span><a href=/tags/3d-printing/>3D Printing</a>
</span><span><a href=/tags/audio/>Audio</a>
</span><span><a href=/tags/cloud/>Cloud</a>
</span><span><a href=/tags/devlog/>Devlog</a>
</span><span><a href=/tags/drone/>Drone</a>
</span><span><a href=/tags/electronics/>Electronics</a>
</span><span><a href=/tags/embedded/>Embedded</a>
</span><span><a href=/tags/golang/>Golang</a>
</span><span><a href=/tags/java/>Java</a>
</span><span><a href=/tags/keyboards/>Keyboards</a>
</span><span><a href=/tags/meta/>Meta</a>
</span><span><a href=/tags/python/>Python</a>
</span><span><a href=/tags/tentatwo/>TentaTwo</a>
</span><span><a href=/tags/wearable-tech/>Wearable Tech</a>
</span><span><a href=/tags/web/>Web</a>
</span><span><a href=/tags/web-app/>Web App</a></span></div></div></div></aside></main><footer><div class="container-lg clearfix"><div class="col-12 footer"><span>&copy; 2025
<a href=https://blog.jiahe.dev/></a>| Powered by <a href=https://github.com/andrew-aiken/hugo-theme-fuji/ target=_blank>Fuji</a> & <a href=https://gohugo.io/ target=_blank>Hugo</a></span></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js integrity="sha512-LCKPTo0gtJ74zCNMbWw04ltmujpzSR4oW+fgN+Y1YclhM5ZrHCZQAJE4quEodcI/G122sRhSGU2BsSRUZ2Gu3w==" crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js integrity="sha512-GP4x8UWxWyh4BMbyJGOGneiTbkrWEF5izsVJByzVLodP8CuJH/n936+yQDMJJrOPUHLgyPbLiGw2rXmdvGdXHA==" crossorigin=anonymous></script><script defer src=/assets/js/fuji.min.645f1123be695831f419ab54c1bcba327325895c740014006e57070d4f3e5d6b553e929c4b46f40ea707249e9c7f7c2a446d32a39ce7319f80a34525586a8e0f.js integrity="sha512-ZF8RI75pWDH0GatUwby6MnMliVx0ABQAblcHDU8+XWtVPpKcS0b0DqcHJJ6cf3wqRG0yo5znMZ+Ao0UlWGqODw=="></script></body></html>